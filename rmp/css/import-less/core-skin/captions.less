/* ==========================================================================
   This section applies to styling CC/subtitles when they are rendered
   with vtt.js or natively
   This includes styling for CC/subtitles according to FCC settings
   ========================================================================== */

/**
 * vtt.js
 */

/* closed caption rendering area  */
.rmp-cc-area {
  width: 100%;
  height: 100%;
  position: absolute;
  bottom: 0;
  left: 0;
  margin: 0;
  padding: 0;
  background: transparent;
  .transition(bottom);
}

/* when control bar is visible move up CAPTIONS area so that captions are not hidden by control bar */
.rmp-chrome .rmp-cc-area {
  bottom: 40px;
}

/* when control bar is NOT visible move down CAPTIONS area */
.rmp-no-chrome .rmp-cc-area {
  bottom: 0;
}

/* .rmp-cc-display is child of .rmp-cc-container child of .rmp-cc-area - apply CSS if required
   for FCC settings this is the window area */
.rmp-cc-display {
  padding: 1px 2px;
  font-size: 17px !important;
  background-color: @invisble !important;
}

/* .rmp-cc-cue is child of .rmp-cc-display */
.rmp-cc-cue {
  margin: 0;
  float: none;
  text-transform: none;
  vertical-align: baseline;
  border: none;
  padding: 1px 2px;
  font-family: Arial, Helvetica, sans-serif;
  color: @white !important;
  text-shadow: none;
  font-size: 100% !important;
  background-color: @shadow-3 !important;
}

.rmp-fullscreen-on .rmp-cc-cue {
  font-size: 150% !important;
}

/**
 * This section applies to CC when they are rendered through HLS with hls.js (in-band or in-manifest)
 */

.rmp-native-captions .rmp-cc-container {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: 1.5%;
}

.rmp-native-captions .rmp-cc-display {
  text-align: center;
  white-space: pre-line;
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 100%;
  line-height: normal;
  .transform-translateX();
}

.rmp-native-captions .rmp-cc-cue {
  position: relative;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  display: inline;
}

/**
 * This section applies to CC when they are rendered through DASH (in-band or in-manifest) 
 * or native HLS (e.g. for iOS, macOS, iPadOS Safari where hls.js does not go)
 * In this case we use the native browser CC rendering engine
 */

/* Chrome */
.rmp-chrome video.rmp-video::-webkit-media-text-track-container {
  .transform-translateY(-40px);
}

.rmp-no-chrome video.rmp-video::-webkit-media-text-track-container {
  .transform-translateY(0);
}

/* Safari with DASH */
.rmp-safari-shaka-native-cc.rmp-chrome
  video.rmp-video::-webkit-media-text-track-container {
  top: -20px;
}

.rmp-safari-shaka-native-cc.rmp-no-chrome
  video.rmp-video::-webkit-media-text-track-container {
  top: 0;
}

.rmp-safari-shaka-native-cc video.rmp-video::-webkit-media-text-track-container {
  margin: 0;
  bottom: auto;
  .transform(none);
}

/* Safari with native HLS */
.rmp-native-hls-captions.rmp-chrome
  video.rmp-video::-webkit-media-text-track-container {
  .transform-translateY(-20px);
}

.rmp-native-hls-captions.rmp-no-chrome
  video.rmp-video::-webkit-media-text-track-container {
  .transform-translateY(0);
}

.rmp-fullscreen-ios.rmp-native-hls-captions
  video.rmp-video::-webkit-media-text-track-container {
  .transform(none);
}
